{"version":3,"file":"virtual-list.js","sources":["../../../../../../../../../../uni_modules/z-paging/components/z-paging/js/modules/virtual-list.js"],"sourcesContent":null,"names":["virtualListModule","props","useVirtualList","type","Boolean","default","u","gc","useCompatibilityMode","extraData","Object","useInnerList","forceCloseInnerList","cellKeyName","String","innerListStyle","innerCellStyle","preloadPage","Number","validator","value","uni_modules_zPaging_components_zPaging_js_zPagingUtils","consoleErr","cellHeightMode","Enum","CellHeightMode","Fixed","fixedCellHeight","virtualListCol","virtualScrollFps","data","virtualListKey","getInstanceId","virtualPageHeight","virtualCellHeight","virtualScrollTimeStamp","virtualList","virtualPlaceholderTopHeight","virtualPlaceholderBottomHeight","virtualTopRangeIndex","virtualBottomRangeIndex","lastVirtualTopRangeIndex","lastVirtualBottomRangeIndex","virtualItemInsertedCount","virtualHeightCacheList","getCellHeightRetryCount","fixed","dynamic","pagingOrgTop","updateVirtualListFromDataChange","watch","realTotalData","newVal","this","finalUseVirtualList","$nextTick","length","_resetDynamicListState","isUserPullDown","isFirstPage","_updateFixedCellHeight","_updateVirtualScroll","oldScrollTop","$emit","computed","virtualCellIndexKey","c","listCellIndexKey","usePageScroll","finalUseInnerList","finalCellKeyName","finalVirtualPageHeight","windowHeight","finalFixedCellHeight","convertToPx","virtualRangePageHeight","virtualScrollDisTimeStamp","methods","doInsertVirtualListItem","item","index","Dynamic","prototype","toString","call","cellIndexKey","listCellIndexUniqueKey","async","retryCount","wait","delayTime","cellNode","_getNodeClientRect","currentHeight","height","lastHeightCache","lastTotalHeight","totalHeight","splice","i","thisNode","didUpdateVirtualListCell","currentNode","then","cellNodeHeight","heightDis","didDeleteVirtualListCell","_virtualListInit","delay","node","top","_updateDynamicCellHeight","list","dataFrom","dataFromTop","heightCacheList","currentCacheList","listTotalHeight","slice","push","heightCacheItem","concat","_setCellIndex","currentItemIndex","QueryFrom","Refresh","Reload","indexOf","queryFrom","totalData","lastItem","firstItem","deepCopy","scrollTop","scrollDiff","currentTimeStamp","getTime","_resetTopRange","scrollIndex","parseInt","_updateFixedTopRangeIndex","_updateFixedBottomRangeIndex","scrollDirection","rangePageHeight","topRangePageOffset","bottomRangePageOffset","reachedLimitBottom","startTopRangeIndex","topRangeMatched","pageSize","_updateVirtualList","Math","max","min","resetVirtualList","_checkVirtualListScroll","currentTop","_innerCellClick"],"mappings":"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"}