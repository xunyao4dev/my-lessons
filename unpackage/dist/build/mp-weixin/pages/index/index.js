"use strict";const e=require("../../common/vendor.js"),n=require("../../utils/utils.js"),o=require("../../utils/request.js");var a="https://lesson-api.jc-talent.com";if(!Array){(e.resolveComponent("uni-search-bar")+e.resolveComponent("uni-icons")+e.resolveComponent("uni-tag")+e.resolveComponent("uni-badge")+e.resolveComponent("uni-fab")+e.resolveComponent("z-paging"))()}Math||((()=>"../../uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.js")+(()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../../uni_modules/uni-tag/components/uni-tag/uni-tag.js")+(()=>"../../uni_modules/uni-badge/components/uni-badge/uni-badge.js")+(()=>"../../uni_modules/uni-fab/components/uni-fab/uni-fab.js")+(()=>"../../uni_modules/z-paging/components/z-paging/z-paging.js"))();const t={__name:"index",setup(t){const u=e.ref([]),s=e.ref([]),i=e.ref(""),r=e.ref(),d=e.ref(),l=e.ref([{text:"添加学生",icon:"icon-add-student",selectedIcon:"icon-add-student"}]),c=()=>{o.request({url:`${a}/students`,method:"GET",success:e=>{u.value=e.data.data,s.value=u.value,d.value.complete(e.data.data)},fail:n=>{e.index.showToast({title:"网络异常",icon:"error"}),d.value.complete(!1)}})},f=()=>{p()},m=e=>{i.value=e,p()},p=()=>{i.value?s.value=u.value.filter((e=>e.name.includes(i.value))):s.value=u.value},v=n=>{0===n.index&&e.index.navigateTo({url:"/pages/add-student/add-student"}),r.value.close()};return e.onShow((()=>{d.value&&d.value.reload()})),(o,a)=>({a:e.o(f),b:e.o(m),c:e.o((e=>i.value=e)),d:e.p({placeholder:"请输入学生姓名",modelValue:i.value}),e:e.f(s.value,((o,a,t)=>e.e({a:"82fefd33-2-"+t+",82fefd33-1",b:e.p({"custom-prefix":"iconfont",type:0===o.gender?"icon-male":"icon-female"}),c:e.t(o.name),d:e.t(e.unref(n.formatGrade)(o.grade)),e:e.t(o.createTime),f:e.f(o.subjects,((o,a,u)=>({a:o,b:"82fefd33-3-"+t+"-"+u+",82fefd33-1",c:e.p({inverted:!0,text:e.unref(n.formatSubjectAbbr)(o),type:"warning",size:"mini","custom-style":"margin-right: 4px; font-weight: bold;"})}))),g:o.remainHours.hours1v1},o.remainHours.hours1v1?{h:"82fefd33-4-"+t+",82fefd33-1",i:e.p({text:o.remainHours.hours1v1,type:"success",absolute:"rightTop"})}:{},{j:o.remainHours.hours1v3},o.remainHours.hours1v3?{k:"82fefd33-5-"+t+",82fefd33-1",l:e.p({text:o.remainHours.hours1v3,type:"success",absolute:"rightTop"})}:{},{m:a,n:e.o((n=>{return a=o.id,void e.index.navigateTo({url:`/pages/student-info/student-info?studentId=${a}`,animationType:"pop-in",animationDuration:200});var a}),a)}))),f:e.sr(r,"82fefd33-6,82fefd33-1",{k:"fab"}),g:e.o(v),h:e.p({content:l.value,horizontal:"right",direction:"vertical"}),i:e.sr(d,"82fefd33-1",{k:"paging"}),j:e.o(c),k:e.o((e=>u.value=e)),l:e.p({"paging-style":{"background-color":"#fafafa"},"refresher-end-bounce-enabled":!1,"empty-view-text":"您还没有学生哦~快去添加吧!",modelValue:u.value})})}},u=e._export_sfc(t,[["__scopeId","data-v-82fefd33"]]);wx.createPage(u);
