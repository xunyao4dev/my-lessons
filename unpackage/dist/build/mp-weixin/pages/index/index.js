"use strict";const e=require("../../common/vendor.js"),n=require("../../utils/utils.js"),t=require("../../utils/request.js");var i="https://lesson-api.jc-talent.com";if(!Array){(e.resolveComponent("uni-icons")+e.resolveComponent("uni-tag")+e.resolveComponent("uni-badge")+e.resolveComponent("uni-list")+e.resolveComponent("uni-fab")+e.resolveComponent("z-paging"))()}Math||((()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../../uni_modules/uni-tag/components/uni-tag/uni-tag.js")+(()=>"../../uni_modules/uni-badge/components/uni-badge/uni-badge.js")+(()=>"../../uni_modules/uni-list/components/uni-list/uni-list.js")+(()=>"../../uni_modules/uni-fab/components/uni-fab/uni-fab.js")+(()=>"../../uni_modules/z-paging/components/z-paging/z-paging.js"))();const o={__name:"index",setup(o){const s=e.ref(),a=e.reactive([]),u=e.reactive([{text:"添加学生",icon:"icon-add-student",selectedIcon:"icon-add-student"}]),r=n=>{0===n.index&&e.index.navigateTo({url:"/pages/add-student/add-student"})},d=()=>{c((()=>{s.value.complete()}))},c=n=>{t.request({url:`${i}/students`,method:"GET",success:e=>{a.splice(0,a.length),a.push(...e.data.data)},fail:n=>{e.index.showToast({title:"网络异常",icon:"error"})},complete:n})};return e.onShow((()=>{c()})),(t,i)=>({a:e.f(a,((t,i,o)=>({a:"dbbeb663-2-"+o+",dbbeb663-1",b:e.p({"custom-prefix":"iconfont",type:0===t.gender?"icon-male":"icon-female"}),c:e.t(t.name),d:e.t(e.unref(n.formatGrade)(t.grade)),e:e.f(t.subjects,((t,i,s)=>({a:t,b:"dbbeb663-3-"+o+"-"+s+",dbbeb663-1",c:e.p({inverted:!0,text:e.unref(n.formatSubjectAbbr)(t),type:"warning",size:"mini","custom-style":"margin-right: 4px; font-weight: bold;"})}))),f:e.t(t.createTime),g:"dbbeb663-4-"+o+",dbbeb663-1",h:e.p({"text-color":"#fff",text:t.remainHours}),i:t.id,j:e.o((n=>{return i=t.id,void e.index.navigateTo({url:`/pages/student-info/student-info?studentId=${i}`,animationType:"pop-in",animationDuration:200});var i}),t.id)}))),b:e.p({border:!1}),c:e.o(r),d:e.p({content:u,horizontal:"right",direction:"vertical"}),e:e.sr(s,"dbbeb663-0",{k:"paging"}),f:e.o(d),g:e.p({"refresher-only":!0})})}},s=e._export_sfc(o,[["__scopeId","data-v-dbbeb663"]]);wx.createPage(s);
