"use strict";const e=require("../../common/vendor.js"),t=require("../../store/student.js"),n=require("../../store/lesson.js"),o=require("../../utils/request.js"),r=require("../../utils/constant.js"),i=require("../../utils/utils.js");var s="https://lesson-api.jc-talent.com";if(!Array){e.resolveComponent("uni-icons")()}Math;const u={__name:"student-info",setup(u){const a=t.useStudentStore(),c=n.useLessonStore(),d=e.computed((()=>{var e;return null==(e=r.genderOptions.find((e=>e.value===a.gender)))?void 0:e.text})),p=e.computed((()=>a.subjects.map((e=>{var t;return null==(t=r.subjectOptions.find((t=>e===t.value)))?void 0:t.text})).join(", "))),f=()=>{c.setStudentId(a.id),e.index.navigateTo({url:"/pages/lesson/lesson"})};return e.onLoad((t=>{o.request({url:`${s}/students/${t.studentId}`,method:"GET",success:e=>{a.setStudent(e.data.data)},fail:t=>{e.index.showToast({title:"网络异常",icon:"error"})}})})),(t,n)=>({a:e.p({"custom-prefix":"iconfont",type:"icon-ming"}),b:e.t(e.unref(a).name),c:e.p({"custom-prefix":"iconfont",type:"icon-gender"}),d:e.t(d.value),e:e.p({"custom-prefix":"iconfont",type:"icon-nianji"}),f:e.t(e.unref(i.formatGrade)(e.unref(a).grade)),g:e.p({"custom-prefix":"iconfont",type:"icon-keshi"}),h:e.t(e.unref(a).remainHours),i:e.p({"custom-prefix":"iconfont",type:"icon-kemu"}),j:e.t(p.value),k:e.p({"custom-prefix":"iconfont",type:"icon-shouji"}),l:e.t(e.unref(a).phone),m:e.o((t=>{return n=e.unref(a).phone,void e.index.makePhoneCall({phoneNumber:n,fail:e=>{console.error(e)}});var n})),n:e.p({"custom-prefix":"iconfont",type:"icon-beizhu"}),o:e.t(e.unref(a).remark),p:e.p({"custom-prefix":"iconfont",type:"icon-bianji"}),q:e.o((t=>{return n=e.unref(a).id,void e.index.navigateTo({url:`/pages/add-student/add-student?studentId=${n}`});var n})),r:e.p({"custom-prefix":"iconfont",type:"icon-paikebiao"}),s:e.o(f)})}},a=e._export_sfc(u,[["__scopeId","data-v-7853223d"]]);wx.createPage(a);
