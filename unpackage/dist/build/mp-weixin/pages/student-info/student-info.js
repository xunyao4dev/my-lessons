"use strict";const e=require("../../common/vendor.js"),n=require("../../store/student.js"),o=require("../../store/lesson.js"),t=require("../../utils/request.js"),i=require("../../utils/constant.js"),a=require("../../utils/utils.js");var s="https://lesson-api.jc-talent.com";if(!Array){e.resolveComponent("uni-icons")()}Math;const u={__name:"student-info",setup(u){const c=n.useStudentStore();o.useLessonStore();const l=e.computed((()=>{var e;return null==(e=i.genderOptions.find((e=>e.value===c.gender)))?void 0:e.text})),r=e.computed((()=>c.subjects.map((e=>{var n;return null==(n=i.subjectOptions.find((n=>e===n.value)))?void 0:n.text})).join(", "))),d=e.computed((()=>[{iconType:"icon-ming",label:"姓名",value:c.name},{iconType:"icon-gender",label:"性别",value:l.value},{iconType:"icon-nianji",label:"年级",value:a.formatGrade(c.grade)},{iconType:"icon-keshi",label:"课时",value:c.remainHours},{iconType:"icon-kemu",label:"科目",value:r.value},{iconType:"icon-shouji",label:"手机",value:c.phone,clickable:!0,clickAction:()=>{return n=c.phone,void e.index.makePhoneCall({phoneNumber:n,fail:e=>{console.error(e)}});var n}},{iconType:"icon-beizhu",label:"备注",value:c.remark}])),p=()=>{e.index.navigateTo({url:"/pages/lesson/lesson"})};return e.onLoad((e=>{t.request({url:`${s}/students/${e.studentId}`,method:"GET",success:e=>{c.setStudent(e.data.data)}})})),(n,o)=>({a:e.f(d.value,((n,o,t)=>({a:"8b8adc6c-0-"+t,b:e.p({"custom-prefix":"iconfont",type:n.iconType}),c:e.t(n.label),d:e.t(n.value),e:o,f:e.n({clickable:n.clickable}),g:e.o((e=>n.clickable?n.clickAction():null),o)}))),b:e.p({"custom-prefix":"iconfont",type:"icon-bianji"}),c:e.o((n=>{return o=e.unref(c).id,void e.index.navigateTo({url:`/pages/add-student/add-student?studentId=${o}`});var o})),d:e.p({"custom-prefix":"iconfont",type:"icon-paikebiao"}),e:e.o(p)})}},c=e._export_sfc(u,[["__scopeId","data-v-8b8adc6c"]]);wx.createPage(c);
