"use strict";const e=require("../common/vendor.js"),t=()=>{e.index.clearStorageSync(),e.index.reLaunch({url:"/pages/login/login"})};exports.request=i=>{const o=e.index.getStorageSync("token");if(!o)return void t();e.index.showToast({title:"请求中...",icon:"loading",duration:6e3}),i.timeout=6e3,i.header=i.header||{},i.header.Authorization="Bearer "+o;const n=i.success,s=i.fail;i.success=i=>{e.index.hideToast(),401===i.statusCode?t():n&&n(i)},i.fail=t=>{e.index.hideToast(),s&&s(t)},e.index.request(i)};
